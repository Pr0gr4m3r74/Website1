<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mini-Game — Münzwurf</title>
<link rel="stylesheet" href="coinflip.css">
</head>
<body>
<header>
  <h1>Münzwurf</h1>
  <nav>
    <a href="index.html">Start</a>
    <a href="minigames.html">Mini-Games</a>
    <a href="projects.html">Projekte</a>
    <a href="kontakt.html">Kontakt</a>
    <a href="impressum.html">Impressum</a>
  </nav>
</header>

<main>
  <section class="panel" aria-live="polite">
    <div class="coin-wrap">
      <div id="coin" class="coin heads">Kopf</div>
    </div>

    <div class="controls">
      <button id="flipBtn">Münze werfen</button>
      <button id="resetBtn" class="danger">Reset</button>
    </div>

    <div class="stats" id="stats">
      Kopf: 0 &nbsp;|&nbsp; Zahl: 0 &nbsp;|&nbsp; Letztes: — &nbsp;|&nbsp; Serie: 0
    </div>
  </section>
</main>

<footer>© 2026 IT Solutions</footer>

<script>
let heads = 0, tails = 0, last = null, streak = 0;
const coinEl = document.getElementById('coin');
const statsEl = document.getElementById('stats');
const flipBtn = document.getElementById('flipBtn');
const resetBtn = document.getElementById('resetBtn');

function updateStats(result){
  if (last === result) streak++;
  else { streak = 1; last = result; }
  if (result === 'Kopf') heads++; else tails++;
  statsEl.textContent = `Kopf: ${heads} | Zahl: ${tails} | Letztes: ${result} | Serie: ${streak}`;
}

function flipAnimation(result){
  coinEl.classList.add('flipping');
  setTimeout(()=> {
    coinEl.classList.remove('heads','tails');
    coinEl.classList.add(result === 'Kopf' ? 'heads' : 'tails');
    coinEl.textContent = result;
  }, 320);
  setTimeout(()=> {
    coinEl.classList.remove('flipping');
  }, 750);
}

function flipCoin(){
  flipBtn.disabled = true;
  // Zufall: 50/50 (kann später pro Spiel angepasst werden)
  const r = Math.random() < 0.5 ? 'Kopf' : 'Zahl';
  flipAnimation(r);
  setTimeout(()=> {
    updateStats(r);
    flipBtn.disabled = false;
  }, 820);
}

function reset(){
  heads = 0; tails = 0; last = null; streak = 0;
  coinEl.classList.remove('tails');
  coinEl.classList.add('heads');
  coinEl.textContent = 'Kopf';
  statsEl.textContent = 'Kopf: 0 | Zahl: 0 | Letztes: — | Serie: 0';
}

flipBtn.addEventListener('click', flipCoin);
resetBtn.addEventListener('click', reset);
</script>
</body>
</html>
